testComplexMethodClassBuilder	| newCompiledMethod originalCompiledMethod |	newCompiledMethod := (OpalCompiler new 	compile:'superclass: aClass	variableByteSubclass: t instanceVariableNames: f 	classVariableNames: d poolDictionaries: s category: cat	| oldClassOrNil actualType |	(aClass instSize > 0)		ifTrue: [^self error: ''cannot make a byte subclass of a class with named fields''].	(aClass isVariable and: [aClass isWords])		ifTrue: [^self error: ''cannot make a byte subclass of a class with word fields''].	(aClass isVariable and: [aClass isPointers])		ifTrue: [^self error: ''cannot make a byte subclass of a class with pointer fields''].	oldClassOrNil := aClass environment at: t ifAbsent:[nil].	actualType := (oldClassOrNil notNil				   and: [oldClassOrNil typeOfClass == #compiledMethod])					ifTrue: [#compiledMethod]					ifFalse: [#bytes].	^self 		name: t		inEnvironment: aClass environment		subclassOf: aClass		type: actualType		instanceVariableNames: f		classVariableNames: d		poolDictionaries: s		category: cat'	in: ClassBuilder	classified: nil	notifying: nil	ifFail: [])	generate.	originalCompiledMethod := (Compiler new 	compile:'superclass: aClass	variableByteSubclass: t instanceVariableNames: f 	classVariableNames: d poolDictionaries: s category: cat	| oldClassOrNil actualType |	(aClass instSize > 0)		ifTrue: [^self error: ''cannot make a byte subclass of a class with named fields''].	(aClass isVariable and: [aClass isWords])		ifTrue: [^self error: ''cannot make a byte subclass of a class with word fields''].	(aClass isVariable and: [aClass isPointers])		ifTrue: [^self error: ''cannot make a byte subclass of a class with pointer fields''].	oldClassOrNil := aClass environment at: t ifAbsent:[nil].	actualType := (oldClassOrNil notNil				   and: [oldClassOrNil typeOfClass == #compiledMethod])					ifTrue: [#compiledMethod]					ifFalse: [#bytes].	^self 		name: t		inEnvironment: aClass environment		subclassOf: aClass		type: actualType		instanceVariableNames: f		classVariableNames: d		poolDictionaries: s		category: cat'	in: ClassBuilder	classified: nil	notifying: nil	ifFail: [])	generate.								self assert: newCompiledMethod numArgs = originalCompiledMethod numArgs.	self assert: newCompiledMethod numLiterals = originalCompiledMethod numLiterals.	self assert: newCompiledMethod numTemps = originalCompiledMethod numTemps.	self assert: newCompiledMethod primitive = originalCompiledMethod primitive.	self assert: newCompiledMethod header = originalCompiledMethod header